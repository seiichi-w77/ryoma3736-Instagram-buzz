# Instagram-buzz 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
**Instagram-buzz** - AIを活用したInstagramバズコンテンツ自動生成システム

### 1.2 目的
Instagramで注目を集める人気リール動画を分析し、AIを活用して「バズる可能性の高い」新しいコンテンツを効率的に、誰でも再現できるように作成するWebアプリケーション

### 1.3 ターゲットユーザー
- Instagramでフォロワーを増やしたい個人・企業
- SNSマーケティング担当者
- インフルエンサー志望者
- コンテンツクリエイター

---

## 2. 機能要件

### 2.1 ステップ1: バズリール発見機能
| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| F1-1 | キーワード検索 | ジャンル別キーワードでリール検索 | P0 |
| F1-2 | フィルタリング | 期間（6ヶ月以内）・再生数（3万回以上）でフィルタ | P0 |
| F1-3 | リスト保存 | お手本リールをリストに保存 | P1 |
| F1-4 | URL入力 | InstagramリールURLを直接入力 | P0 |

### 2.2 ステップ2: 台本抽出機能
| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| F2-1 | 動画ダウンロード | リールURLから動画をダウンロード | P0 |
| F2-2 | 音声文字起こし | 動画から音声を抽出しテキスト化 | P0 |
| F2-3 | 台本フォーマット | 文字起こしを台本形式に整形 | P1 |
| F2-4 | 台本保存 | 抽出した台本をDB保存 | P1 |

### 2.3 ステップ3: AIコンテンツ生成機能
| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| F3-1 | バズ分析 | 元コンテンツがバズった理由をAI分析 | P0 |
| F3-2 | Threads投稿生成 | バズ分析を反映したThreads投稿作成 | P0 |
| F3-3 | リール台本生成 | 新しい視点のリール台本を自動生成 | P0 |
| F3-4 | キャプション生成 | リール説明文を自動生成 | P0 |
| F3-5 | コメント返信生成 | 印象の良い返信アイデア生成 | P1 |
| F3-6 | コメント作成支援 | 感情を揺さぶるコメント生成 | P1 |

### 2.4 テンプレート管理機能
| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| F4-1 | テンプレート登録 | カスタムテンプレートの登録 | P1 |
| F4-2 | プロフィール設定 | SNSプロフィール情報の設定 | P1 |
| F4-3 | プロンプト管理 | AIプロンプトのカスタマイズ | P2 |

---

## 3. 非機能要件

### 3.1 パフォーマンス
- API応答時間: 3秒以内（AI生成除く）
- AI生成時間: 30秒以内
- 同時接続数: 100ユーザー

### 3.2 セキュリティ
- HTTPS通信必須
- APIキー暗号化保存
- ユーザー認証（OAuth）

### 3.3 可用性
- 稼働率: 99.5%以上
- 自動バックアップ: 日次

---

## 4. 技術スタック

### 4.1 フロントエンド
- **Framework**: Next.js 14 (App Router)
- **UI**: Tailwind CSS + shadcn/ui
- **State**: Zustand
- **Form**: React Hook Form + Zod

### 4.2 バックエンド
- **Runtime**: Node.js
- **API**: Next.js API Routes
- **AI**: Anthropic Claude API
- **音声認識**: Whisper API

### 4.3 インフラ
- **Hosting**: Vercel
- **Database**: Supabase (PostgreSQL)
- **Storage**: Supabase Storage
- **Auth**: Supabase Auth

---

## 5. 画面設計

### 5.1 画面一覧
| 画面ID | 画面名 | 説明 |
|--------|--------|------|
| S1 | ダッシュボード | メイン画面・機能選択 |
| S2 | リール検索 | バズリール検索・選択 |
| S3 | 台本抽出 | 動画→台本変換 |
| S4 | コンテンツ生成 | AI生成実行画面 |
| S5 | 履歴一覧 | 過去の生成履歴 |
| S6 | 設定 | プロフィール・テンプレート設定 |

---

## 6. データモデル

### 6.1 主要エンティティ
```
User
├── id: UUID
├── email: string
├── profile: JSON
└── created_at: timestamp

Reel
├── id: UUID
├── user_id: UUID (FK)
├── url: string
├── title: string
├── transcript: text
├── views: number
├── created_at: timestamp
└── analyzed_at: timestamp

GeneratedContent
├── id: UUID
├── reel_id: UUID (FK)
├── type: enum (threads, script, caption, comment)
├── content: text
├── analysis: JSON
└── created_at: timestamp

Template
├── id: UUID
├── user_id: UUID (FK)
├── name: string
├── type: enum
├── content: text
└── is_default: boolean
```

---

## 7. API設計

### 7.1 エンドポイント一覧
| Method | Endpoint | 説明 |
|--------|----------|------|
| POST | /api/reels/download | リール動画ダウンロード |
| POST | /api/reels/transcribe | 音声文字起こし |
| POST | /api/analyze/buzz | バズ分析実行 |
| POST | /api/generate/threads | Threads投稿生成 |
| POST | /api/generate/script | リール台本生成 |
| POST | /api/generate/caption | キャプション生成 |
| POST | /api/generate/comment | コメント生成 |
| GET | /api/history | 履歴取得 |
| CRUD | /api/templates | テンプレート管理 |

---

## 8. 開発フェーズ

### Phase 1: MVP (2週間)
- [ ] プロジェクトセットアップ
- [ ] 基本UI実装
- [ ] リールURL入力機能
- [ ] 台本抽出機能（手動入力）
- [ ] バズ分析機能
- [ ] コンテンツ生成機能（基本4種）

### Phase 2: 自動化 (2週間)
- [ ] 動画ダウンロード自動化
- [ ] 音声文字起こし自動化
- [ ] テンプレート管理
- [ ] 履歴機能

### Phase 3: 拡張 (2週間)
- [ ] ユーザー認証
- [ ] プロフィール設定
- [ ] コメント返信機能
- [ ] 分析レポート

---

## 9. 成功指標

| 指標 | 目標値 |
|------|--------|
| コンテンツ生成成功率 | 95%以上 |
| ユーザー満足度 | 4.0/5.0以上 |
| 平均生成時間 | 60秒以内 |
| 日次アクティブユーザー | 100人（3ヶ月後） |

---

## 10. リスクと対策

| リスク | 影響度 | 対策 |
|--------|--------|------|
| Instagram API制限 | 高 | レート制限対応、キャッシュ活用 |
| AI生成品質 | 中 | プロンプトチューニング、人間レビュー |
| 著作権問題 | 高 | 利用規約明記、オリジナル性確保 |

---

*Generated by Miyabi Autonomous Agent System*
